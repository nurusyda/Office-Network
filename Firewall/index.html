<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hot Standby Router Protocol (HSRP) in Edge Router</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.2; #I've changed this
            margin: 20px;
            background-color: #f9f9f9;
            color: #333;
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }
        h1 {
            color: #0366d6;
            font-weight: 500;
        }
        h2, h3, h4 {
            color: #24292e;
            font-weight: 500;
        }
        h1 {
            font-size: 32px;
            margin-bottom: 30px;
        }
        h2 {
            font-size: 24px;
            margin-top: 40px;
        }
        h3 {
            font-size: 20px;
            margin-top: 25px;
        }
        ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        a {
            color: #0066cc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .section {
            margin-bottom: 40px;
        }
        code {
            font-family: 'Consolas', 'Monaco', monospace;
            background-color: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
        }
        li {
            margin-bottom: 8px;
        }
        p {
            margin: 15px 0;
        }
        strong {
            font-weight: 500;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f4f4f4;
        }
        .underline {
    border-bottom: 0.5px solid #eaecef; /* Adds a line below */
    padding-bottom: 5px; /* Adds spacing between text and line */
    margin-bottom: 15px; /* Adds space below the line */
               }
    .nav-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background-color: #f8f9f9;
        border: 1px solid #ddd;
        border-radius: 4px;
        color: #0366d6;
        text-decoration: none;
        font-weight: 500;
        font-size: 16px;
        transition: background-color 0.2s ease;
        margin-bottom: 20px;
    }
    
    .nav-button:hover {
        background-color: #f1f1f1;
        text-decoration: none;
    }
    
    .icon {
        font-size: 18px; /* Adjust the size of the icons */
    }
    .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
     }
      </style>
</head>
<body>
<!-- Back to Main Page -->
<a href="/index.html" class="nav-button">
    <span class="icon">üè†</span> Main Page
</a>

<!-- Back to Previous Page -->
<a href="../index.html" class="nav-button">
    <span class="icon">‚¨ÖÔ∏è</span> Previous Page
</a>
    <div class="container">
        <h1>Network Configuration: PC Accessing cisco.com via DNS</h1>
        <h2>Objective</h2>
        <p>Configure a network where a PC can resolve and ping <code>cisco.com</code> through a multi-device setup (DNS, routers, ASA firewall, switch).</p>
        
        <h2>Network Topology</h2>
        <img src="Pasted image 20250131113608.png" alt="Network Diagram">
        
        <h2>Device Configurations</h2>
        <h3>DNS Server</h3>
        <ul>
            <li><strong>IPv4:</strong> 8.8.8.8/24</li>
            <li><strong>Gateway:</strong> 8.8.8.1</li>
            <li><strong>DNS:</strong> 8.8.8.8 (self)</li>
            <li><strong>Hostname:</strong> cisco.com</li>
        </ul>
        
        <h3>Router1</h3>
        <pre>
! Interface to DNS Server
interface GigabitEthernet0/0
 ip address 8.8.8.1 255.255.255.0
 no shutdown

! Interface to Router2
interface GigabitEthernet0/1
 ip address 10.0.0.1 255.255.255.0
 no shutdown

! Default route to "Internet" (Router2)
ip route 0.0.0.0 0.0.0.0 10.0.0.2

! DNS settings
ip name-server 8.8.8.8
        </pre>
        
        <h3>Router2</h3>
        <pre>
! Interface to Router1 (Outside NAT)
interface GigabitEthernet0/0
 ip address 10.0.0.2 255.255.255.0
 ip nat outside
 no shutdown

! Interface to ASA (Inside NAT)
interface GigabitEthernet0/1
 ip address 192.168.0.1 255.255.255.0
 ip nat inside
 no shutdown

! NAT for Internal Traffic
access-list 1 permit 192.168.0.0 0.0.0.255
ip nat inside source list 1 interface GigabitEthernet0/0 overload

! Route to ASA‚Äôs Internal Network
ip route 192.168.1.0 255.255.255.0 192.168.0.2
        </pre>
        
        <h3>ASA Firewall</h3>
        <pre>
! Outside Interface (to Router2)
interface GigabitEthernet1/1
 nameif outside
 ip address 192.168.0.2 255.255.255.0
 security-level 0
 no shutdown

! Inside Interface (to Switch)
interface GigabitEthernet1/2
 nameif inside
 ip address 192.168.1.1 255.255.255.0
 security-level 100
 no shutdown

! Allow All Traffic (for testing)
access-list INSIDE_OUT extended permit ip any any
access-group INSIDE_OUT in interface inside

access-list OUTSIDE_IN extended permit ip any any
access-group OUTSIDE_IN in interface outside

! Default Route to Router2
route outside 0.0.0.0 0.0.0.0 192.168.0.1
        </pre>
        
        <h2>Validation & Testing</h2>
        <h3>1. Successful DNS Resolution (nslookup)</h3>
        <img src="nslookup-screenshot.png" alt="nslookup cisco.com">
        
        <h3>2. Ping to cisco.com</h3>
        <img src="ping-screenshot.png" alt="ping cisco.com">
        
        <h2>Troubleshooting Tips</h2>
        <ul>
            <li><strong>PC Configuration:</strong> Is the gateway (192.168.1.1) reachable? Test with <code>ping 192.168.1.1</code>.</li>
            <li><strong>ASA Firewall Rules:</strong> Are <code>INSIDE_OUT</code> and <code>OUTSIDE_IN</code> ACLs applied?</li>
            <li><strong>Router2 NAT:</strong> Does <code>access-list 1</code> include the correct subnet (192.168.0.0/24)?</li>
            <li><strong>Routing:</strong> Can Router2 reach the ASA‚Äôs outside IP (192.168.0.2)?</li>
        </ul>
        
        <h2>Why This Works</h2>
        <ul>
            <li><strong>Correct NAT:</strong> Router2 only translates traffic from its directly connected inside network (192.168.0.0/24).</li>
            <li><strong>Accurate Routing:</strong>
                <ul>
                    <li>Router2 sends 192.168.1.0/24 traffic to the ASA (192.168.0.2).</li>
                    <li>The ASA‚Äôs default route points back to Router2 (192.168.0.1).</li>
                </ul>
            </li>
            <li><strong>Permissive Firewall:</strong> The ASA allows all traffic for simplicity (adjust ACLs for production).</li>
        </ul>
    </div>
</body>
</html>
